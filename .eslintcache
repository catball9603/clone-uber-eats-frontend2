[{"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\index.tsx":"1","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\reportWebVitals.ts":"2","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\apollo.ts":"3","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\App.tsx":"4","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\constans.ts":"5","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\routes\\logged-out-router.tsx":"6","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\routes\\logged-in-router.tsx":"7","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\__generated__\\globalTypes.ts":"8","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\NotFound404.tsx":"9","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Header.tsx":"10","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\create-account.tsx":"11","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\login.tsx":"12","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Search.tsx":"13","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Restaurants.tsx":"14","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Category.tsx":"15","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\RstaurantDetail.tsx":"16","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Driver\\DriverBoard.tsx":"17","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\hooks\\useMe.tsx":"18","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\MyRestaurants.tsx":"19","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\AddDish.tsx":"20","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\AddRestaurant.tsx":"21","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\MyRestaurant.tsx":"22","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\ConfirmEmail.tsx":"23","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\Order.tsx":"24","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\EditProfile.tsx":"25","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\fragments.ts":"26","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\button.tsx":"27","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Dish.tsx":"28","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\FormError.tsx":"29","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Restaurant.tsx":"30","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\DishOption.tsx":"31"},{"size":644,"mtime":1612422092737,"results":"32","hashOfConfig":"33"},{"size":425,"mtime":1606532589166,"results":"34","hashOfConfig":"33"},{"size":1927,"mtime":1614861467220,"results":"35","hashOfConfig":"33"},{"size":393,"mtime":1612198494709,"results":"36","hashOfConfig":"33"},{"size":50,"mtime":1611118316946,"results":"37","hashOfConfig":"33"},{"size":566,"mtime":1614312084437,"results":"38","hashOfConfig":"33"},{"size":3300,"mtime":1612940034393,"results":"39","hashOfConfig":"33"},{"size":2354,"mtime":1614928307865,"results":"40","hashOfConfig":"33"},{"size":648,"mtime":1611752357800,"results":"41","hashOfConfig":"33"},{"size":1060,"mtime":1612422092734,"results":"42","hashOfConfig":"33"},{"size":4206,"mtime":1611990616098,"results":"43","hashOfConfig":"33"},{"size":3773,"mtime":1614866325781,"results":"44","hashOfConfig":"33"},{"size":3476,"mtime":1612103036186,"results":"45","hashOfConfig":"33"},{"size":4511,"mtime":1612333954840,"results":"46","hashOfConfig":"33"},{"size":3071,"mtime":1612178854628,"results":"47","hashOfConfig":"33"},{"size":7546,"mtime":1614320255780,"results":"48","hashOfConfig":"33"},{"size":5620,"mtime":1612940003684,"results":"49","hashOfConfig":"33"},{"size":305,"mtime":1612259054457,"results":"50","hashOfConfig":"33"},{"size":2494,"mtime":1612422530334,"results":"51","hashOfConfig":"33"},{"size":4691,"mtime":1612603289352,"results":"52","hashOfConfig":"33"},{"size":4638,"mtime":1612422530327,"results":"53","hashOfConfig":"33"},{"size":4827,"mtime":1612776169936,"results":"54","hashOfConfig":"33"},{"size":1842,"mtime":1611752433569,"results":"55","hashOfConfig":"33"},{"size":5872,"mtime":1612940573235,"results":"56","hashOfConfig":"33"},{"size":2892,"mtime":1611754142919,"results":"57","hashOfConfig":"33"},{"size":977,"mtime":1612603409227,"results":"58","hashOfConfig":"33"},{"size":465,"mtime":1612260494143,"results":"59","hashOfConfig":"33"},{"size":2022,"mtime":1612778475693,"results":"60","hashOfConfig":"33"},{"size":263,"mtime":1612259872351,"results":"61","hashOfConfig":"33"},{"size":683,"mtime":1612422530309,"results":"62","hashOfConfig":"33"},{"size":893,"mtime":1612534258696,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ubl51g",{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\index.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\reportWebVitals.ts",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\apollo.ts",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\App.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\constans.ts",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\routes\\logged-out-router.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\routes\\logged-in-router.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\__generated__\\globalTypes.ts",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\NotFound404.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Header.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\create-account.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\login.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Search.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Restaurants.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\Category.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Client\\RstaurantDetail.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Driver\\DriverBoard.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\hooks\\useMe.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\MyRestaurants.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\AddDish.tsx",["127"],"import { gql, useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Button } from '../../components/button';\r\nimport { createDish, createDishVariables } from '../../__generated__/createDish';\r\nimport { MY_RESTAURANT_QUERY } from './MyRestaurant';\r\n\r\nconst CREATE_DISH_MUTATION = gql`\r\n  mutation createDish($input: CreateDishInput!) {\r\n    createDish(input: $input) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n\r\ninterface IParams {\r\n  restaurantId: string;\r\n}\r\n\r\ninterface IFormProps {\r\n  name: string;\r\n  price: string;\r\n  description: string;\r\n  [key: string]: string;\r\n}\r\n\r\nconst AddDish = () => {\r\n  const history = useHistory();\r\n  const { restaurantId } = useParams<IParams>();\r\n  const onCompleted = () => {};\r\n  const [createDishMutation, { loading, data }] = useMutation<createDish, createDishVariables>(CREATE_DISH_MUTATION, {\r\n    onCompleted,\r\n    refetchQueries: [\r\n      {\r\n        query: MY_RESTAURANT_QUERY,\r\n        variables: {\r\n          input: {\r\n            id: +restaurantId,\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  });\r\n  const { register, getValues, handleSubmit, formState, setValue } = useForm<IFormProps>({\r\n    mode: 'onChange',\r\n  });\r\n\r\n  const onSubmit = () => {\r\n    const { name, price, description, ...rest } = getValues();\r\n    const optionsObeject = optionsNumber.map((theId) => ({\r\n      name: rest[`${theId}-optionName`],\r\n      extra: +rest[`${theId}-optionExtra`],\r\n    }));\r\n\r\n    createDishMutation({\r\n      variables: {\r\n        input: {\r\n          name,\r\n          description,\r\n          price: +price,\r\n          restaurantId: +restaurantId,\r\n          options: optionsObeject,\r\n        },\r\n      },\r\n    });\r\n    history.goBack();\r\n  };\r\n\r\n  const [optionsNumber, setOptionsNumber] = useState<number[]>([]);\r\n\r\n  const onAddOptionClick = () => {\r\n    setOptionsNumber((current) => [Date.now(), ...current]);\r\n  };\r\n  const onDeleteClick = (idToDelete: number) => {\r\n    setOptionsNumber((current) => current.filter((id) => id !== idToDelete));\r\n    setValue(`${idToDelete}-optionName`, '');\r\n    setValue(`${idToDelete}-optionExtra`, '');\r\n  };\r\n  return (\r\n    <div className=\"container flex flex-col items-center mt-32 px-8 2xl:px-0\">\r\n      <Helmet>\r\n        <title>Add Dish | Uber Eats</title>\r\n      </Helmet>\r\n      <h4 className=\"text-2xl font-semibold mb-3\">Add Dish</h4>\r\n      <form className=\" w-full max-w-screen-sm grid gap-3 my-5\" onSubmit={handleSubmit(onSubmit)}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"input\"\r\n          ref={register({ required: 'Name is required.' })}\r\n          name=\"name\"\r\n          placeholder=\"Name\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          className=\"input\"\r\n          ref={register({ required: 'Price is required.' })}\r\n          name=\"price\"\r\n          min={0}\r\n          placeholder=\"Price\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          className=\"input\"\r\n          ref={register({ required: 'Description is required.' })}\r\n          name=\"description\"\r\n          placeholder=\"Description\"\r\n        />\r\n        <div className=\"my-10\">\r\n          <h4 className=\"text-lg font-medium mb-3\">Dish Options</h4>\r\n          <span className=\"bg-gray-900 p-2 mt-5 cursor-pointer text-white\" onClick={onAddOptionClick}>\r\n            Add Dish Option\r\n          </span>\r\n          {optionsNumber.length !== 0 &&\r\n            optionsNumber.map((id) => (\r\n              <div key={id} className=\"mt-3\">\r\n                <input\r\n                  ref={register}\r\n                  name={`${id}-optionName`}\r\n                  type=\"text\"\r\n                  className=\"py-2 px-4 focus:outline-none focus:border-gray-600 border-2 mr-2\"\r\n                  placeholder=\"Option Name\"\r\n                />\r\n                <input\r\n                  ref={register}\r\n                  name={`${id}-optionExtra`}\r\n                  type=\"number\"\r\n                  min={0}\r\n                  className=\"py-2 px-4 focus:outline-none focus:border-gray-600 border-2\"\r\n                  placeholder=\"Option Extra\"\r\n                />\r\n                <span\r\n                  className=\"cursor-pointer text-white bg-red-500 ml-3 py-3 px-4 text-base\"\r\n                  onClick={() => onDeleteClick(id)}\r\n                >\r\n                  Delete\r\n                </span>\r\n              </div>\r\n            ))}\r\n        </div>\r\n\r\n        <Button loading={loading} canClick={formState.isValid} actionText=\"Create Dish\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddDish;\r\n","C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\AddRestaurant.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\Owner\\MyRestaurant.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\ConfirmEmail.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\Order.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\pages\\User\\EditProfile.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\fragments.ts",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\button.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Dish.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\FormError.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\Restaurant.tsx",[],"C:\\Users\\hokma\\Documents\\uber-eats\\clone-uber-eats-frontend\\src\\components\\DishOption.tsx",[],{"ruleId":"128","severity":1,"message":"129","line":34,"column":41,"nodeType":"130","messageId":"131","endLine":34,"endColumn":45},"@typescript-eslint/no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar"]